sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.6),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.6),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.6),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.6),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5, sample_rate = 10),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.6),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
smo2_filt = filter_data(smo2_673, method = "smooth-spline"),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
(\(A, B) {
missing(A)
})()
(\(A, B) {
is.null(A)
})()
(\(A, B) {
missing(A) | is.null(A)
})()
test <- function(A, B) {
if (!missing(A)) {
is.null(A)
}
}
test()
test <- function(A, B) {
if (!missing(A)) {
is.null(A)
} else {
missing(A)
}
}
test()
test <- function(A, B) {
if (!missing(A)) {
is.null(A)
}
}
test()
test(A)
test(A=5)
test(A=NULL)
test <- function(A, B) {
if (!missing(A) | is.null(A)) {
is.null(A)
}
}
test(A=NULL)
test <- function(A, B) {
# if (!missing(A) | is.null(A)) {
#     is.null(A)
# }
!missing(A) | is.null(A)
}
test(A=NULL)
test <- function(A, B) {
# if (!missing(A) | is.null(A)) {
#     is.null(A)
# }
missing(A) | is.null(A)
}
test(A=NULL)
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
smo2_filt = filter_data(smo2_673, method = "smooth-spline"),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
test <- function(A) {
if (missing(A) | is.null(A)) {
print("A is missing or null")
}
}
test()
test(A)
test(A=NULL)
test <- function(A) {
missing(A) | is.null(A)
}
test(A=NULL)
test(A)
test <- function(A) {
missing(A) | is.null(A)
}
test(A)
test <- function(A) {
missing(A) | is.null(A)
}
test()
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
smo2_filt = filter_data(smo2_673, method = "smooth-spline"),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5, sample_rate = 10),
# smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5, sample_rate = 10),
smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5, sample_rate = 10),
smo2_filt = filter_data(smo2_673, method = "moving-average"),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#
# library(tidyverse)
# library(JAPackage)
# library(mNIRS)
df <- mNIRS::read_data(
file_path = r"(C:\OneDrive - UBC\EPL\Matt Fliss\matt pitshark.csv)",
nirs_columns = c(smo2_673 = "SmO2_673", smo2_702 = "SmO2_702"),
sample_column = c(time = "Timestamp (seconds passed)")
) |>
dplyr::mutate(
# smo2_filt = filter_data(smo2_673, method = "smooth-spline", spar = 0.8),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 1, W = 0.1),
# smo2_filt = filter_data(smo2_673, method = "low-pass", n = 2, critical_frequency = 0.5, sample_rate = 10),
smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
) |>
print()
#
ggplot2::ggplot(df, ggplot2::aes(x = time)) +
{list( ## Settings
# JAPackage::theme_JA(),
ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
NULL)} ## Data
#         smo2_filt = filter_data(smo2_673, method = "moving-average", width = 50),
#     ) |>
#     print()
# #
# ggplot2::ggplot(df, ggplot2::aes(x = time)) +
#     {list( ## Settings
#         # JAPackage::theme_JA(),
#         ggplot2::geom_line(ggplot2::aes(y = smo2_673)),
#         ggplot2::geom_line(ggplot2::aes(y = smo2_filt, colour = "filt")),
#         NULL)} ## Data
library(mNIRS)
set.seed(13)
n <- 1000
frequency <- 1
amplitude <- 2
time <- seq(0, 4*pi, length.out = n)
y_clean <- amplitude * sin(frequency * time)
noise <- rnorm(n, mean = 0, sd = 0.5)
y <- y_clean + noise
y
plot(time, y, col = "red")
plot(time, y)
y.smooth_spline <- filter_data(y, method = "smooth-spline")
y.low_pass <- filter_data(y, method = "low-pass", n = 2, W = 0.1)
lines(time, y.smooth_spline, col = "orange")
lines(time, y.smooth_spline, col = "blue")
lines(time, y.low_pass, col = "red")
y.low_pass <- filter_data(y, method = "low-pass", n = 2, W = 0.05)
lines(time, y.low_pass, col = "red")
plot(time, y)
lines(time, y.smooth_spline, col = "blue")
lines(time, y.low_pass, col = "red")
y.spline <- filter_data(y, method = "smooth-spline")
y.LP <- filter_data(y, method = "low-pass", n = 2, W = 0.05)
y.MA <- filter_data(y, method = "moving-average", width = 15)
plot(time, y)
lines(time, y.spline, col = "blue")
lines(time, y.LP, col = "red")
lines(time, y.MA, col = "green4")
y.spline <- filter_data(y, method = "smooth-spline")
y.LP <- filter_data(y, method = "low-pass", n = 2, W = 0.05)
y.MA <- filter_data(y, method = "moving-average", width = 30)
plot(time, y)
lines(time, y.spline, col = "blue")
lines(time, y.LP, col = "red")
lines(time, y.MA, col = "green4")
y.spline <- filter_data(y, method = "smooth-spline")
y.LP <- filter_data(y, method = "low-pass", n = 2, W = 0.05)
y.MA <- filter_data(y, method = "moving-average", width = 30)
plot(time, y)
lines(time, y.spline, lwd = 2, col = "blue")
lines(time, y.LP, lwd = 2, col = "red")
lines(time, y.MA, lwd = 2, col = "green4")
set.seed(13)
n <- 1000
frequency <- 1
amplitude <- 2
time <- seq(0, 2*pi, length.out = n)
y_clean <- amplitude * sin(frequency * time)
noise <- rnorm(n, mean = 0, sd = 0.5)
y <- y_clean + noise
y.spline <- filter_data(y, method = "smooth-spline")
y.LP <- filter_data(y, method = "low-pass", n = 2, W = 0.05)
y.MA <- filter_data(y, method = "moving-average", width = 30)
plot(time, y)
lines(time, y.spline, lwd = 2, col = "blue")
lines(time, y.LP, lwd = 2, col = "red")
lines(time, y.MA, lwd = 2, col = "green4")
# use_r("read_data")
# load_all()
#
# exists("read_data", where = globalenv(), inherits = FALSE)
#
# tools::showNonASCIIfile("C:/R-Projects/mNIRS/R/process_data.R")
# document()
# ?read_data
# install()
# use_readme_rmd()
devtools::build_readme()
# use_r("read_data")
# load_all()
#
# exists("read_data", where = globalenv(), inherits = FALSE)
#
# tools::showNonASCIIfile("C:/R-Projects/mNIRS/R/process_data.R")
# document()
# ?read_data
# install()
# use_readme_rmd()
devtools::build_readme()
